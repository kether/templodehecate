CREATE TABLE eh_auth_credential (id INT AUTO_INCREMENT, name VARCHAR(128) NOT NULL UNIQUE, description TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_auth_credential_user (user_id INT, credential_id INT, PRIMARY KEY(user_id, credential_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_auth_user (id INT AUTO_INCREMENT, username VARCHAR(128) NOT NULL UNIQUE, salt VARCHAR(128) NOT NULL, password VARCHAR(128) NOT NULL, last_login DATETIME, last_ip_address VARCHAR(128) DEFAULT '127.0.0.1' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_super_admin TINYINT(1) DEFAULT '0' NOT NULL, remember_key VARCHAR(128) DEFAULT '' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_adjunto (id INT AUTO_INCREMENT, mensaje_id INT NOT NULL, tipo_id INT NOT NULL, nombre VARCHAR(255) NOT NULL, nombre_fichero VARCHAR(255) DEFAULT '' NOT NULL, numero_descargas BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX mensaje_id_idx (mensaje_id), INDEX tipo_id_idx (tipo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_adjunto_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, url VARCHAR(255) NOT NULL, dir VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_amigo (id INT AUTO_INCREMENT, invitante_id INT NOT NULL, invitado_id INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX invitante_id_idx (invitante_id), INDEX invitado_id_idx (invitado_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE eh_foro_grupo (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, es_restringido TINYINT(1) DEFAULT '0' NOT NULL, slug VARCHAR(255), descripcion TEXT NOT NULL, descripcion_html TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX eh_foro_grupo_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_grupo_usuario (grupo_id INT, usuario_id INT, PRIMARY KEY(grupo_id, usuario_id)) ENGINE = INNODB;
CREATE TABLE eh_foro_hilo (id INT AUTO_INCREMENT, estado_oculto TINYINT(1) DEFAULT '0' NOT NULL, estado_cerrado TINYINT(1) DEFAULT '0' NOT NULL, estado_staff TINYINT(1) DEFAULT '0' NOT NULL, estado_pinchado TINYINT(1) DEFAULT '0' NOT NULL, estado_general TINYINT(1) DEFAULT '0' NOT NULL, estado_seccion TINYINT(1) DEFAULT '0' NOT NULL, leido MEDIUMINT DEFAULT 0 NOT NULL, respuestas MEDIUMINT DEFAULT 0 NOT NULL, tablon_id INT NOT NULL, primer_mensaje_id INT, ultimo_mensaje_id INT, INDEX tablon_id_idx (tablon_id), INDEX primer_mensaje_id_idx (primer_mensaje_id), INDEX ultimo_mensaje_id_idx (ultimo_mensaje_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_karma (id INT AUTO_INCREMENT, mensaje_id INT NOT NULL, usuario_id INT NOT NULL, puntos BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, INDEX mensaje_id_idx (mensaje_id), INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_leido_hilo (usuario_id INT, hilo_id INT, read_at DATETIME NOT NULL, PRIMARY KEY(usuario_id, hilo_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_leido_tablon (usuario_id INT, tablon_id INT, read_at DATETIME NOT NULL, PRIMARY KEY(usuario_id, tablon_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_mensaje (id INT AUTO_INCREMENT, estado_activo TINYINT(1) DEFAULT '1' NOT NULL, tiene_adjuntos TINYINT(1) DEFAULT '0' NOT NULL, estado_staff TINYINT(1) DEFAULT '0' NOT NULL, nombre_invitado VARCHAR(255) DEFAULT '' NOT NULL, ip VARCHAR(255) DEFAULT '127.0.0.1' NOT NULL, asunto VARCHAR(255) DEFAULT '' NOT NULL, html TINYINT(1) DEFAULT '0' NOT NULL, bbcode TINYINT(1) DEFAULT '1' NOT NULL, nl2br TINYINT(1) DEFAULT '1' NOT NULL, emoticonos TINYINT(1) DEFAULT '1' NOT NULL, markdown TINYINT(1) DEFAULT '0' NOT NULL, firma TINYINT(1) DEFAULT '1' NOT NULL, karma MEDIUMINT DEFAULT 0 NOT NULL, visible_desde DATETIME NOT NULL, hilo_id INT, usuario_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), cuerpo TEXT NOT NULL, cuerpo_html TEXT NOT NULL, UNIQUE INDEX eh_foro_mensaje_sluggable_idx (slug), INDEX hilo_id_idx (hilo_id), INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_mensaje_privado (id INT AUTO_INCREMENT, estado_leido TINYINT(1) DEFAULT '0' NOT NULL, estado_borrado_procedencia TINYINT(1) DEFAULT '0' NOT NULL, estado_borrado_destino TINYINT(1) DEFAULT '0' NOT NULL, mensaje_id INT, usuario_destino_id INT NOT NULL, INDEX mensaje_id_idx (mensaje_id), INDEX usuario_destino_id_idx (usuario_destino_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_perfil (id INT AUTO_INCREMENT, sexo VARCHAR(255) DEFAULT 'Desconocido' NOT NULL, fecha_nacimiento DATE, nick VARCHAR(255) DEFAULT '' NOT NULL, uri_avatar VARCHAR(255) DEFAULT '' NOT NULL, residencia VARCHAR(255) DEFAULT '' NOT NULL, email VARCHAR(255) NOT NULL, web VARCHAR(255) DEFAULT '' NOT NULL, notificaciones TINYINT(1) DEFAULT '1' NOT NULL, num_mensajes MEDIUMINT DEFAULT 0 NOT NULL, pais VARCHAR(10) DEFAULT 'ES' NOT NULL, idioma VARCHAR(10) DEFAULT 'es' NOT NULL, zona_horaria VARCHAR(64) DEFAULT 'Europe/Madrid' NOT NULL, firma TEXT NOT NULL, karma BIGINT DEFAULT 0 NOT NULL, usuario_id INT NOT NULL, nombre VARCHAR(128) DEFAULT '' NOT NULL, apellidos VARCHAR(128) DEFAULT '' NOT NULL, pase_beta TINYINT(1) DEFAULT '0' NOT NULL, boletines TINYINT(1) DEFAULT '0' NOT NULL, sin_publi TINYINT(1) DEFAULT '0' NOT NULL, sin_publi_hasta DATETIME NOT NULL, botones_sociales TINYINT(1) DEFAULT '0' NOT NULL, perfil_facebook VARCHAR(255) DEFAULT '' NOT NULL, perfil_twitter VARCHAR(255) DEFAULT '' NOT NULL, perfil_tuenti VARCHAR(255) DEFAULT '' NOT NULL, perfil_gplus VARCHAR(255) DEFAULT '' NOT NULL, perfil_paypal VARCHAR(128) DEFAULT '' NOT NULL, updated_at DATETIME NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_seccion (id INT AUTO_INCREMENT, estado_oculto TINYINT(1) DEFAULT '0' NOT NULL, ordinal MEDIUMINT DEFAULT 0 NOT NULL, nombre VARCHAR(255) NOT NULL, descripcion VARCHAR(255) NOT NULL, slug VARCHAR(255), UNIQUE INDEX eh_foro_seccion_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_staff_tablon (grupo_id INT, tablon_id INT, PRIMARY KEY(grupo_id, tablon_id)) ENGINE = INNODB;
CREATE TABLE eh_foro_tablon (id INT AUTO_INCREMENT, estado_oculto TINYINT(1) DEFAULT '0' NOT NULL, estado_restringido_hilos TINYINT(1) DEFAULT '0' NOT NULL, estado_restringido_respuestas TINYINT(1) DEFAULT '0' NOT NULL, ordinal BIGINT DEFAULT 0 NOT NULL, nombre VARCHAR(255) NOT NULL, descripcion VARCHAR(255) NOT NULL, num_subtablones MEDIUMINT DEFAULT 0 NOT NULL, num_hilos MEDIUMINT DEFAULT 0 NOT NULL, num_mensajes MEDIUMINT DEFAULT 0 NOT NULL, uri_icon VARCHAR(255) DEFAULT '' NOT NULL, ultimo_hilo_id INT, seccion_id INT NOT NULL, tablon_id INT, slug VARCHAR(255), UNIQUE INDEX eh_foro_tablon_sluggable_idx (slug), INDEX ultimo_hilo_id_idx (ultimo_hilo_id), INDEX seccion_id_idx (seccion_id), INDEX tablon_id_idx (tablon_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_tablon_moderador (usuario_id INT, tablon_id INT, PRIMARY KEY(usuario_id, tablon_id)) ENGINE = INNODB;
CREATE TABLE eh_foro_usuario_activo (ip VARCHAR(128), usuario_id INT, modulo VARCHAR(128) NOT NULL, accion VARCHAR(128) NOT NULL, agent VARCHAR(255) NOT NULL, updated_at DATETIME NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(ip)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE eh_foro_visible (usuario_id INT, foro_id INT, PRIMARY KEY(usuario_id, foro_id)) ENGINE = INNODB;
CREATE TABLE tdh_anuncio (id INT AUTO_INCREMENT, activo TINYINT(1) DEFAULT '1' NOT NULL, nombre VARCHAR(64) NOT NULL, descripcion VARCHAR(255) NOT NULL, url VARCHAR(255) NOT NULL, vistas MEDIUMINT DEFAULT 0 NOT NULL, clicks MEDIUMINT DEFAULT 0 NOT NULL, temporal TINYINT(1) DEFAULT '0' NOT NULL, es_flash TINYINT(1) DEFAULT '0' NOT NULL, es_codigo TINYINT(1) DEFAULT '0' NOT NULL, codigo TEXT NOT NULL, desde DATETIME NOT NULL, hasta DATETIME NOT NULL, tipo_id INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_anuncio_sluggable_idx (slug), INDEX tipo_id_idx (tipo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_anuncio_pago (id INT AUTO_INCREMENT, cantidad FLOAT(18, 2) DEFAULT 0 NOT NULL, usuario_id INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tdh_anuncio_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(128) NOT NULL, anchura MEDIUMINT DEFAULT 0 NOT NULL, altura MEDIUMINT DEFAULT 0 NOT NULL, multiple TINYINT(1) DEFAULT '0' NOT NULL, rotativo TINYINT(1) DEFAULT '0' NOT NULL, codigo_alternativo TEXT NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_anuncio_tipo_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_articulo (id INT AUTO_INCREMENT, es_aprobado TINYINT(1) DEFAULT '1' NOT NULL, tipo VARCHAR(255) DEFAULT 'miscelanea' NOT NULL, hilo_id INT NOT NULL, INDEX hilo_id_idx (hilo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_asociacion (id INT AUTO_INCREMENT, nombre VARCHAR(255) DEFAULT '' NOT NULL, num_socios MEDIUMINT DEFAULT 0 NOT NULL, direccion VARCHAR(255) DEFAULT '' NOT NULL, localidad VARCHAR(255) DEFAULT '' NOT NULL, region VARCHAR(255) DEFAULT '' NOT NULL, pais VARCHAR(50) DEFAULT '' NOT NULL, web VARCHAR(255) DEFAULT '' NOT NULL, plazas_abiertas MEDIUMINT DEFAULT 0 NOT NULL, acepta_invitaciones VARCHAR(255) DEFAULT 'no' NOT NULL, tipo_id INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), descripcion TEXT NOT NULL, descripcion_html TEXT NOT NULL, UNIQUE INDEX tdh_asociacion_sluggable_idx (slug), INDEX tipo_id_idx (tipo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_asociacion_busqueda (id INT AUTO_INCREMENT, usuario_id INT NOT NULL, localidad VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, descripcion TEXT NOT NULL, descripcion_html TEXT NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_asociacion_invitacion (usuario_id INT, asociacion_id INT, es_de_usuario TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(usuario_id, asociacion_id)) ENGINE = INNODB;
CREATE TABLE tdh_asociacion_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(255) DEFAULT '' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_asociacion_tipo_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_asociacion_usuario (usuario_id INT, asociacion_id INT, rol VARCHAR(255) DEFAULT 'socio' NOT NULL, PRIMARY KEY(usuario_id, asociacion_id)) ENGINE = INNODB;
CREATE TABLE tdh_consulta (id INT AUTO_INCREMENT, codigo VARCHAR(80) DEFAULT '' NOT NULL, nombre VARCHAR(255) DEFAULT '' NOT NULL, descripcion TEXT NOT NULL, usuario VARCHAR(32) DEFAULT '' NOT NULL, resuelto TINYINT(1) DEFAULT '0' NOT NULL, tipo_id INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX tipo_id_idx (tipo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_consulta_respuesta (id INT AUTO_INCREMENT, descripcion VARCHAR(255) DEFAULT '' NOT NULL, usuario VARCHAR(32) DEFAULT '' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_consulta_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(255) DEFAULT '' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_consulta_tipo_usuario (usuario_id INT, tipo_id INT, PRIMARY KEY(usuario_id, tipo_id)) ENGINE = INNODB;
CREATE TABLE tdh_critica (id INT AUTO_INCREMENT, enviar_sociales TINYINT(1) DEFAULT '0' NOT NULL, estado_aprobado TINYINT(1) DEFAULT '1' NOT NULL, estado_sin_nota TINYINT(1) DEFAULT '1' NOT NULL, estado_basico TINYINT(1) DEFAULT '0' NOT NULL, capturas_automaticas TINYINT(1) DEFAULT '0' NOT NULL, fecha_publicacion DATE, autor VARCHAR(255) DEFAULT '' NOT NULL, paginas SMALLINT DEFAULT 0 NOT NULL, idioma VARCHAR(255) DEFAULT 'Español' NOT NULL, precio FLOAT(18, 2) DEFAULT 0 NOT NULL, moneda VARCHAR(3) DEFAULT 'EUR' NOT NULL, nota FLOAT(18, 2) DEFAULT 0 NOT NULL, nota_media FLOAT(18, 2) DEFAULT 0 NOT NULL, votos SMALLINT DEFAULT 0 NOT NULL, seccion_id INT NOT NULL, editor_id INT NOT NULL, hilo_id INT NOT NULL, INDEX editor_id_idx (editor_id), INDEX hilo_id_idx (hilo_id), INDEX seccion_id_idx (seccion_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_critica_captura (id INT AUTO_INCREMENT, comentario VARCHAR(255) DEFAULT '' NOT NULL, fichero VARCHAR(255) DEFAULT '' NOT NULL, tam_peq TINYINT(1) DEFAULT '1' NOT NULL, tam_med TINYINT(1) DEFAULT '0' NOT NULL, tam_gra TINYINT(1) DEFAULT '0' NOT NULL, critica_id INT NOT NULL, INDEX critica_id_idx (critica_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_critica_nota (id INT AUTO_INCREMENT, usuario_id INT NOT NULL, critica_id INT NOT NULL, nota FLOAT(18, 2) DEFAULT 0 NOT NULL, INDEX critica_id_idx (critica_id), INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_critica_video (id INT AUTO_INCREMENT, comentario VARCHAR(255) DEFAULT '' NOT NULL, medio VARCHAR(255) DEFAULT 'Youtube' NOT NULL, url VARCHAR(255) DEFAULT '' NOT NULL, critica_id INT NOT NULL, INDEX critica_id_idx (critica_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_donacion (id INT AUTO_INCREMENT, cantidad FLOAT(18, 2) DEFAULT 0 NOT NULL, hilo_id INT NOT NULL, usuario_id INT NOT NULL, created_at DATETIME NOT NULL, INDEX hilo_id_idx (hilo_id), INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tdh_editor (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, web VARCHAR(255) DEFAULT '' NOT NULL, slug VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX tdh_editor_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_evento (id INT AUTO_INCREMENT, enviar_sociales TINYINT(1) DEFAULT '0' NOT NULL, estado_aprobado TINYINT(1) DEFAULT '1' NOT NULL, fecha_inicio DATE NOT NULL, fecha_fin DATE NOT NULL, direccion VARCHAR(255) DEFAULT '' NOT NULL, localidad VARCHAR(255) DEFAULT '' NOT NULL, region VARCHAR(255) DEFAULT '' NOT NULL, pais VARCHAR(255) DEFAULT '' NOT NULL, latitud FLOAT(18, 2) DEFAULT 0 NOT NULL, longitud FLOAT(18, 2) DEFAULT 0 NOT NULL, hilo_id INT NOT NULL, INDEX hilo_id_idx (hilo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_evento_apuntado (usuario_id INT, evento_id INT, PRIMARY KEY(usuario_id, evento_id)) ENGINE = INNODB;
CREATE TABLE tdh_feed_externo (id INT AUTO_INCREMENT, nombre VARCHAR(128) NOT NULL, url_feed VARCHAR(255) DEFAULT '' NOT NULL, url_web VARCHAR(255) DEFAULT '' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_feed_externo_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_genero (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_genero_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_hoja_de_estilo (id INT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, filename VARCHAR(255) NOT NULL, media VARCHAR(10) DEFAULT 'all' NOT NULL, content TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_licencia (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, descripcion VARCHAR(255) DEFAULT '' NOT NULL, url VARCHAR(255) DEFAULT '' NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_licencia_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_menu (id INT AUTO_INCREMENT, estado_portada TINYINT(1) DEFAULT '0' NOT NULL, nombre VARCHAR(50) NOT NULL, ordinal INT DEFAULT 0 NOT NULL, descripcion VARCHAR(255) DEFAULT '' NOT NULL, enlace VARCHAR(255) DEFAULT '' NOT NULL, slug VARCHAR(255), menu_id INT, UNIQUE INDEX tdh_menu_sluggable_idx (slug), INDEX menu_id_idx (menu_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_noticia (id INT AUTO_INCREMENT, enviar_sociales TINYINT(1) DEFAULT '0' NOT NULL, estado_aprobado TINYINT(1) DEFAULT '1' NOT NULL, es_destacada TINYINT(1) DEFAULT '0' NOT NULL, entradilla VARCHAR(255) DEFAULT '' NOT NULL, nombre_fuente VARCHAR(255) DEFAULT '' NOT NULL, url_fuente VARCHAR(255) DEFAULT '' NOT NULL, seccion_id INT NOT NULL, hilo_id INT NOT NULL, INDEX hilo_id_idx (hilo_id), INDEX seccion_id_idx (seccion_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_popular (id INT AUTO_INCREMENT, visitas MEDIUMINT DEFAULT 0 NOT NULL, fecha DATE NOT NULL, seccion_id INT NOT NULL, INDEX seccion_id_idx (seccion_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_recurso (id INT AUTO_INCREMENT, enviar_sociales TINYINT(1) DEFAULT '0' NOT NULL, estado_aprobado TINYINT(1) DEFAULT '1' NOT NULL, acepta_donativos TINYINT(1) DEFAULT '1' NOT NULL, favoritos MEDIUMINT DEFAULT 0 NOT NULL, paypal VARCHAR(255) DEFAULT '' NOT NULL, entradilla VARCHAR(255) DEFAULT '' NOT NULL, autor VARCHAR(255) DEFAULT '' NOT NULL, contacto_autor VARCHAR(255) DEFAULT '' NOT NULL, num_donativos MEDIUMINT DEFAULT 0 NOT NULL, cantidad_donativos MEDIUMINT DEFAULT 0 NOT NULL, tiene_html TINYINT(1) DEFAULT '1' NOT NULL, conver_pdf TINYINT(1) DEFAULT '1' NOT NULL, conver_epub TINYINT(1) DEFAULT '1' NOT NULL, separar_capitulos TINYINT(1) DEFAULT '0' NOT NULL, tipo_id INT NOT NULL, seccion_id INT NOT NULL, licencia_id INT NOT NULL, hilo_id INT NOT NULL, INDEX hilo_id_idx (hilo_id), INDEX seccion_id_idx (seccion_id), INDEX tipo_id_idx (tipo_id), INDEX licencia_id_idx (licencia_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_recurso_favorito (usuario_id INT, recurso_id INT, PRIMARY KEY(usuario_id, recurso_id)) ENGINE = INNODB;
CREATE TABLE tdh_recurso_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, descripcion VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_seccion (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, nombre_original VARCHAR(255) DEFAULT '' NOT NULL, estado_activa TINYINT(1) DEFAULT '1' NOT NULL, favoritos MEDIUMINT DEFAULT 0 NOT NULL, url VARCHAR(255) DEFAULT '' NOT NULL, genero_id INT NOT NULL, color_menu VARCHAR(32) DEFAULT '' NOT NULL, tipo_id INT NOT NULL, editor_id INT NOT NULL, tablon_id INT NOT NULL, slug VARCHAR(255), descripcion TEXT NOT NULL, descripcion_html TEXT NOT NULL, UNIQUE INDEX tdh_seccion_sluggable_idx (slug), INDEX genero_id_idx (genero_id), INDEX tipo_id_idx (tipo_id), INDEX editor_id_idx (editor_id), INDEX tablon_id_idx (tablon_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE tdh_seccion_estilo (seccion_id INT, estilo_id INT, PRIMARY KEY(seccion_id, estilo_id)) ENGINE = INNODB;
CREATE TABLE tdh_seccion_favorita (usuario_id INT, seccion_id INT, PRIMARY KEY(usuario_id, seccion_id)) ENGINE = INNODB;
CREATE TABLE tdh_seccion_tipo (id INT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, es_juego TINYINT(1) DEFAULT '1' NOT NULL, slug VARCHAR(255), UNIQUE INDEX tdh_seccion_tipo_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE eh_auth_credential_user ADD CONSTRAINT eh_auth_credential_user_user_id_eh_auth_user_id FOREIGN KEY (user_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_auth_credential_user ADD CONSTRAINT eh_auth_credential_user_credential_id_eh_auth_credential_id FOREIGN KEY (credential_id) REFERENCES eh_auth_credential(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_adjunto ADD CONSTRAINT eh_foro_adjunto_tipo_id_eh_foro_adjunto_tipo_id FOREIGN KEY (tipo_id) REFERENCES eh_foro_adjunto_tipo(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_adjunto ADD CONSTRAINT eh_foro_adjunto_mensaje_id_eh_foro_mensaje_id FOREIGN KEY (mensaje_id) REFERENCES eh_foro_mensaje(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_amigo ADD CONSTRAINT eh_foro_amigo_invitante_id_eh_auth_user_id FOREIGN KEY (invitante_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_amigo ADD CONSTRAINT eh_foro_amigo_invitado_id_eh_auth_user_id FOREIGN KEY (invitado_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_grupo_usuario ADD CONSTRAINT eh_foro_grupo_usuario_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_grupo_usuario ADD CONSTRAINT eh_foro_grupo_usuario_grupo_id_eh_foro_grupo_id FOREIGN KEY (grupo_id) REFERENCES eh_foro_grupo(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_hilo ADD CONSTRAINT eh_foro_hilo_ultimo_mensaje_id_eh_foro_mensaje_id FOREIGN KEY (ultimo_mensaje_id) REFERENCES eh_foro_mensaje(id) ON DELETE SET NULL;
ALTER TABLE eh_foro_hilo ADD CONSTRAINT eh_foro_hilo_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_hilo ADD CONSTRAINT eh_foro_hilo_primer_mensaje_id_eh_foro_mensaje_id FOREIGN KEY (primer_mensaje_id) REFERENCES eh_foro_mensaje(id) ON DELETE SET NULL;
ALTER TABLE eh_foro_karma ADD CONSTRAINT eh_foro_karma_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_karma ADD CONSTRAINT eh_foro_karma_mensaje_id_eh_foro_mensaje_id FOREIGN KEY (mensaje_id) REFERENCES eh_foro_mensaje(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_leido_hilo ADD CONSTRAINT eh_foro_leido_hilo_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_leido_hilo ADD CONSTRAINT eh_foro_leido_hilo_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_leido_tablon ADD CONSTRAINT eh_foro_leido_tablon_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_leido_tablon ADD CONSTRAINT eh_foro_leido_tablon_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_mensaje ADD CONSTRAINT eh_foro_mensaje_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE SET NULL;
ALTER TABLE eh_foro_mensaje ADD CONSTRAINT eh_foro_mensaje_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_mensaje_privado ADD CONSTRAINT eh_foro_mensaje_privado_usuario_destino_id_eh_auth_user_id FOREIGN KEY (usuario_destino_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_mensaje_privado ADD CONSTRAINT eh_foro_mensaje_privado_mensaje_id_eh_foro_mensaje_id FOREIGN KEY (mensaje_id) REFERENCES eh_foro_mensaje(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_perfil ADD CONSTRAINT eh_foro_perfil_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_staff_tablon ADD CONSTRAINT eh_foro_staff_tablon_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_staff_tablon ADD CONSTRAINT eh_foro_staff_tablon_grupo_id_eh_foro_grupo_id FOREIGN KEY (grupo_id) REFERENCES eh_foro_grupo(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_tablon ADD CONSTRAINT eh_foro_tablon_ultimo_hilo_id_eh_foro_hilo_id FOREIGN KEY (ultimo_hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE SET NULL;
ALTER TABLE eh_foro_tablon ADD CONSTRAINT eh_foro_tablon_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE eh_foro_tablon ADD CONSTRAINT eh_foro_tablon_seccion_id_eh_foro_seccion_id FOREIGN KEY (seccion_id) REFERENCES eh_foro_seccion(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_tablon_moderador ADD CONSTRAINT eh_foro_tablon_moderador_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_tablon_moderador ADD CONSTRAINT eh_foro_tablon_moderador_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_usuario_activo ADD CONSTRAINT eh_foro_usuario_activo_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE eh_foro_visible ADD CONSTRAINT eh_foro_visible_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE eh_foro_visible ADD CONSTRAINT eh_foro_visible_foro_id_eh_foro_tablon_id FOREIGN KEY (foro_id) REFERENCES eh_foro_tablon(id);
ALTER TABLE tdh_anuncio ADD CONSTRAINT tdh_anuncio_tipo_id_tdh_anuncio_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_anuncio_tipo(id) ON DELETE CASCADE;
ALTER TABLE tdh_anuncio_pago ADD CONSTRAINT tdh_anuncio_pago_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE tdh_articulo ADD CONSTRAINT tdh_articulo_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_asociacion ADD CONSTRAINT tdh_asociacion_tipo_id_tdh_asociacion_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_asociacion_tipo(id) ON DELETE CASCADE;
ALTER TABLE tdh_asociacion_busqueda ADD CONSTRAINT tdh_asociacion_busqueda_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE tdh_asociacion_invitacion ADD CONSTRAINT tdh_asociacion_invitacion_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE tdh_asociacion_invitacion ADD CONSTRAINT tdh_asociacion_invitacion_asociacion_id_tdh_asociacion_id FOREIGN KEY (asociacion_id) REFERENCES tdh_asociacion(id) ON DELETE CASCADE;
ALTER TABLE tdh_asociacion_usuario ADD CONSTRAINT tdh_asociacion_usuario_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE tdh_asociacion_usuario ADD CONSTRAINT tdh_asociacion_usuario_asociacion_id_tdh_asociacion_id FOREIGN KEY (asociacion_id) REFERENCES tdh_asociacion(id);
ALTER TABLE tdh_consulta ADD CONSTRAINT tdh_consulta_tipo_id_tdh_consulta_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_consulta_tipo(id) ON DELETE CASCADE;
ALTER TABLE tdh_consulta_tipo_usuario ADD CONSTRAINT tdh_consulta_tipo_usuario_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE tdh_consulta_tipo_usuario ADD CONSTRAINT tdh_consulta_tipo_usuario_tipo_id_tdh_consulta_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_consulta_tipo(id);
ALTER TABLE tdh_critica ADD CONSTRAINT tdh_critica_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica ADD CONSTRAINT tdh_critica_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica ADD CONSTRAINT tdh_critica_editor_id_tdh_editor_id FOREIGN KEY (editor_id) REFERENCES tdh_editor(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica_captura ADD CONSTRAINT tdh_critica_captura_critica_id_tdh_critica_id FOREIGN KEY (critica_id) REFERENCES tdh_critica(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica_nota ADD CONSTRAINT tdh_critica_nota_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica_nota ADD CONSTRAINT tdh_critica_nota_critica_id_tdh_critica_id FOREIGN KEY (critica_id) REFERENCES tdh_critica(id) ON DELETE CASCADE;
ALTER TABLE tdh_critica_video ADD CONSTRAINT tdh_critica_video_critica_id_tdh_critica_id FOREIGN KEY (critica_id) REFERENCES tdh_critica(id) ON DELETE CASCADE;
ALTER TABLE tdh_donacion ADD CONSTRAINT tdh_donacion_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id) ON DELETE CASCADE;
ALTER TABLE tdh_donacion ADD CONSTRAINT tdh_donacion_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_evento ADD CONSTRAINT tdh_evento_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_evento_apuntado ADD CONSTRAINT tdh_evento_apuntado_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE tdh_evento_apuntado ADD CONSTRAINT tdh_evento_apuntado_evento_id_tdh_evento_id FOREIGN KEY (evento_id) REFERENCES tdh_evento(id);
ALTER TABLE tdh_menu ADD CONSTRAINT tdh_menu_menu_id_tdh_menu_id FOREIGN KEY (menu_id) REFERENCES tdh_menu(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE tdh_noticia ADD CONSTRAINT tdh_noticia_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id) ON DELETE CASCADE;
ALTER TABLE tdh_noticia ADD CONSTRAINT tdh_noticia_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_popular ADD CONSTRAINT tdh_popular_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id) ON DELETE CASCADE;
ALTER TABLE tdh_recurso ADD CONSTRAINT tdh_recurso_tipo_id_tdh_recurso_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_recurso_tipo(id) ON DELETE CASCADE;
ALTER TABLE tdh_recurso ADD CONSTRAINT tdh_recurso_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id) ON DELETE CASCADE;
ALTER TABLE tdh_recurso ADD CONSTRAINT tdh_recurso_licencia_id_tdh_licencia_id FOREIGN KEY (licencia_id) REFERENCES tdh_licencia(id) ON DELETE CASCADE;
ALTER TABLE tdh_recurso ADD CONSTRAINT tdh_recurso_hilo_id_eh_foro_hilo_id FOREIGN KEY (hilo_id) REFERENCES eh_foro_hilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_recurso_favorito ADD CONSTRAINT tdh_recurso_favorito_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE tdh_recurso_favorito ADD CONSTRAINT tdh_recurso_favorito_recurso_id_tdh_recurso_id FOREIGN KEY (recurso_id) REFERENCES tdh_recurso(id);
ALTER TABLE tdh_seccion ADD CONSTRAINT tdh_seccion_tipo_id_tdh_seccion_tipo_id FOREIGN KEY (tipo_id) REFERENCES tdh_seccion_tipo(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion ADD CONSTRAINT tdh_seccion_tablon_id_eh_foro_tablon_id FOREIGN KEY (tablon_id) REFERENCES eh_foro_tablon(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion ADD CONSTRAINT tdh_seccion_genero_id_tdh_genero_id FOREIGN KEY (genero_id) REFERENCES tdh_genero(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion ADD CONSTRAINT tdh_seccion_editor_id_tdh_editor_id FOREIGN KEY (editor_id) REFERENCES tdh_editor(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion_estilo ADD CONSTRAINT tdh_seccion_estilo_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion_estilo ADD CONSTRAINT tdh_seccion_estilo_estilo_id_tdh_hoja_de_estilo_id FOREIGN KEY (estilo_id) REFERENCES tdh_hoja_de_estilo(id) ON DELETE CASCADE;
ALTER TABLE tdh_seccion_favorita ADD CONSTRAINT tdh_seccion_favorita_usuario_id_eh_auth_user_id FOREIGN KEY (usuario_id) REFERENCES eh_auth_user(id);
ALTER TABLE tdh_seccion_favorita ADD CONSTRAINT tdh_seccion_favorita_seccion_id_tdh_seccion_id FOREIGN KEY (seccion_id) REFERENCES tdh_seccion(id);
